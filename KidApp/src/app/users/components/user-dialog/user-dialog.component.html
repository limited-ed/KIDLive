<div>
  <clr-modal [(clrModalOpen)]="visible" [clrModalSize]='"lg"'>
    <h3 class="modal-title">Редактирование данных пользователя</h3>
    <div class="modal-body">
      <form clrForm [formGroup]="form" style="height:320px">
        <clr-input-container>
          <label for="login" class="clr-col-3 clr-col-md-3">Логин</label>
          <input clrInput autofocus type="text" placeholder="" size="40" formControlName="login"
            class="clr-col-9 clr-col-md-9">
          <clr-control-error></clr-control-error>
        </clr-input-container>

        <clr-input-container>
          <label for="pass" class="clr-col-3 clr-col-md-3">Имя пользователя</label>
          <input clrInput type="text" placeholder="" size="40" formControlName="name" class="clr-col-9 clr-col-md-9">
          <clr-control-error></clr-control-error>
        </clr-input-container>

        <clr-password-container>
          <label for="pass" class="clr-col-3 clr-col-md-3">Новый пароль</label>
          <input clrPassword placeholder="" size="35" formControlName="password" class="clr-col-9 clr-col-md-9">
          <clr-control-error></clr-control-error>
        </clr-password-container>

        <clr-password-container>
          <label for="confirm" class="clr-col-3 clr-col-md-3">Подтверждение</label>
          <input clrPassword placeholder="" size="35" formControlName="confirm" class="clr-col-9 clr-col-md-9">
          <clr-control-error></clr-control-error>
        </clr-password-container>

        <clr-select-container>
          <label for="selects_1" class="clr-col-3 clr-col-md-3">Выберите роль</label>
          <select id="selects_1" clrSelect formControlName="role" name="selects_1" type="number" class="clr-col-9 clr-col-md-9">
            <option value="0">Только просмотр</option>
            <option value="1">Исполнитель</option>
            <option value="2">Работник техотдела</option>
            <option value="3">Администратор</option>
          </select>
        </clr-select-container>

        <clr-select-container>
          <label for="selects_2" class="clr-col-3 clr-col-md-3">Подразделение</label>
          <select id="selects_2" clrSelect formControlName="division" name="selects_2" type="number" class="clr-col-9 clr-col-md-9">
            <option *ngFor="let division of divisions" value="{{division.id}}">{{division.title}}</option>
          </select>
        </clr-select-container>

      </form>
      <div style="height:36px">
        <clr-alerts>
          <clr-alert [clrAlertType]="'danger'" [clrAlertAppLevel]="true" [clrAlertClosable]="false"
            [clrAlertClosed]="!validateError(form,'login','minlength')">
            <clr-alert-item class="alert-item">
              <span>Логин пользователя не может быть меньше 4 символов</span>
            </clr-alert-item>
          </clr-alert>
          <clr-alert [clrAlertType]="'danger'" [clrAlertAppLevel]="true" [clrAlertClosable]="false"
            [clrAlertClosed]="!validateError(form,'name','minlength')">
            <clr-alert-item class="alert-item">
              <span>Имя пользователя не может быть меньше 4 символов</span>
            </clr-alert-item>
          </clr-alert>
          <clr-alert [clrAlertType]="'danger'" [clrAlertAppLevel]="true" [clrAlertClosable]="false"
            [clrAlertClosed]="!validateError(form,'password','minlength')">
            <clr-alert-item class="alert-item">
              <span>Пароль не модет быть меньше 6 символов.</span>
            </clr-alert-item>
          </clr-alert>
          <clr-alert [clrAlertType]="'danger'" [clrAlertAppLevel]="true" [clrAlertClosable]="false"
            [clrAlertClosed]="!validateError(form,'confirm','minlength')">
            <clr-alert-item class="alert-item">
              <span>Подтверждение должено быть не меньше 6 символов</span>
            </clr-alert-item>
          </clr-alert>
          <clr-alert [clrAlertType]="'danger'" [clrAlertAppLevel]="true" [clrAlertClosable]="false"
            [clrAlertClosed]="!validateError(form,'confirm','mismatchedPassword')">
            <clr-alert-item class="alert-item">
              <span>Пароль и подтверждение должны совпадать</span>
            </clr-alert-item>
          </clr-alert>
        </clr-alerts>
      </div>

    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary-outline" (click)="visible=false">Отмена</button>
      <button type="button" class="btn btn-success-outline" (click)="okClick()" [disabled]="form.invalid"
        [clrLoading]="editDlg.submiting">Применить</button>
    </div>
  </clr-modal>
</div>
